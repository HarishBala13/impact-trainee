package comdulcetapplication;

/*
@title			Dulcet - Music Player
@author			Harish B
@createdOn		29-11-2024
@modifiedOn		01-12-2024
@reviewedBy		-
@reviewedOn		-
*/

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;
import java.sql.SQLException;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;
import java.time.format.DateTimeFormatterBuilder;
import java.util.Date;
import java.util.Random;

import javax.print.attribute.standard.DateTimeAtCompleted;

public class SQL_Connector {
	
	public static void getSqlClassConnection() throws ClassNotFoundException {
		try {
			Class.forName(ConfigLoader.getProperty("SQL_CLASSNAME"));
		} catch (ClassNotFoundException classNotFoundException) {
			classNotFoundException.printStackTrace();
		}		
	}
	
	public static void getSqlConnection() throws SQLException {
		
		try {
			Class.forName(ConfigLoader.getProperty("SQL_CLASSNAME"));
		} catch (ClassNotFoundException classNotFoundException) {
			classNotFoundException.printStackTrace();
		}
		
		try(Connection connection = DriverManager.getConnection(
				ConfigLoader.getProperty("SQL_CONNECTOR"),
				ConfigLoader.getProperty("SQL_USERNAME"),
				ConfigLoader.getProperty("SQL_PASSWORD")
				);
				Statement statement = connection.createStatement();
				) {
			statement.executeUpdate();
		} catch (SQLException sqlException) {
			sqlException.printStackTrace();
		}
		finally {
			if (connection != null) {
		        try {
		            connection.close();
		        } catch (SQLException closeException) {
		            closeException.printStackTrace();
		        }
		    }
		}
	}
	
	public static String registerUsertoDatabase(String userName, int userMobileNumber, String userEmail, String userPassword) {
		Random random = new Random();
		int userId = random.nextInt(8999) + 1000;
		DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern("yyyy/MM/dd HH:mm:ss");
		LocalDateTime localDateTime = LocalDateTime.now();
		String userRegisteredDate = dateTimeFormatter.format(localDateTime);
		String  insertUserQuery = "";
		
		return insertUserQuery = "insert into AccountCreator values("+userId+", "+userName+", "+userEmail+", "+userMobileNumber+", "+userPassword+", "+userRegisteredDate+")";
//		String userId = String.format("%04d", random.nextInt(10000));
		
	}

	public static void main(String[] args) throws ClassNotFoundException, SQLException {
		

	}

}
